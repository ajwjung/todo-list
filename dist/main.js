(()=>{"use strict";const e=(()=>{let e=["default"],a={default:[]},n=!1;return{checkNewCategoryAdded:t=>{const a=t.toLowerCase();return e.includes(a)||(n=!0),n},resetCategoryAdded:()=>{n=!1},pushNewCategory:t=>{e.push(t.toLowerCase())},checkTaskHasCategory:e=>a.hasOwnProperty(e),addCategoryToObject:e=>{a[e]=[]},pushNewTask:()=>{const e=t.TodoTask();a[e.category].push(e)},allCategories:e}})(),t=(()=>{const t=()=>document.querySelector("input[name='categoryName']").value,a=()=>({title:document.getElementById("task-title").value,description:document.getElementById("task-description").value,notes:document.getElementById("task-description").value,dueDate:document.getElementById("task-due-date").value,priority:document.getElementById("priority-level").value,category:document.getElementById("task-category").value});return{getCategoryName:t,newCategoryHandler:()=>{const a=t();e.checkTaskHasCategory(a)||e.addCategoryToObject(a),e.pushNewCategory(a)},TodoTask:a,getTaskObject:()=>a(),newTaskHandler:t=>{e.pushNewTask(a())}}})(),a=e=>(e=>/\s/g.test(e))(e)?e.replace(/\s+/g,""):e,n=e=>e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" "),o=(()=>{const t=()=>e.allCategories[e.allCategories.length-1];return{getNewCategory:t,appendCategoryDiv:()=>{const e=document.querySelector(".expanded-sidebar"),o=(e=>{const t=document.createElement("div"),o=a(e);return t.setAttribute("id",o),t.classList.add("category"),t.textContent=n(e),t})(t());e.insertBefore(o,e.lastElementChild)}}})(),r=()=>{const e=document.getElementById("task-category"),t=o.getNewCategory();e.add(new Option(n(t),t))},d=(e,t)=>{const a=document.createElement("div");return a.classList.add(e),t&&a.classList.add(t),a},s=(e,t)=>{const a=document.createElement("p");return a.classList.add(e),a.textContent=t,a},c={appendTaskDiv:()=>{const e=document.querySelector("#project-name"),a=(e=>{const t=d("task-container"),a=(e=>{const t=d("task-overview"),a=d("priority-indicator",e.priority),n=d("checkbox"),o=s("title",e.title),r=s("description",e.description);return t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(r),t})(e),n=s("task-date",e.dueDate);return t.appendChild(a),t.appendChild(n),t})(t.getTaskObject());e.parentNode.insertBefore(a,e.nextElementSibling)},expandCollapseTabs:(e,t)=>{const a=document.querySelector(e),n=document.querySelector(t);a.addEventListener("click",(function(e){n.classList.toggle("hidden")}))}},i=()=>{document.querySelector("#projects-form").addEventListener("submit",(function(a){a.preventDefault(),e.checkNewCategoryAdded(t.getCategoryName())&&(t.newCategoryHandler(),o.appendCategoryDiv(),r(),e.resetCategoryAdded())}))},l=()=>{document.querySelector("#task-form").addEventListener("submit",(function(e){e.preventDefault(),t.newTaskHandler(e),c.appendTaskDiv()}))};document.querySelector("#task-due-date").min=(new Date).toISOString().split("T")[0],c.expandCollapseTabs(".sidebar",".expanded-sidebar"),c.expandCollapseTabs("#add-new-task",".task-form-container"),i(),l()})();