(()=>{"use strict";const e=e=>(e=>/\s/g.test(e))(e)?e.replace(/\s+/g,""):e,t=e=>e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" "),n=(()=>{let e=["default"],t=[],n=!1;return{pushNewCategory:t=>{e.push(t.toLowerCase())},pushNewTask:e=>{t.push(e)},checkNewCategoryAdded:t=>{const a=t.toLowerCase();return e.includes(a)||(n=!0),n},resetCategoryAdded:()=>{n=!1},allCategories:e,allTasks:t,categoryAdded:n}})(),a=(()=>{const e=()=>document.querySelector("input[name='categoryName']").value;return{getCategoryName:e,newCategoryHandler:()=>{n.pushNewCategory(e())},newTaskHandler:e=>{n.pushNewTask((e=>{const t=new FormData(e.target);return Object.fromEntries(t)})(e))}}})(),r=(()=>{const a=(e,t)=>{const n=document.createElement("div");return n.classList.add(e),t&&n.classList.add(t),n},r=(e,t)=>{const n=document.createElement("p");return n.classList.add(e),n.textContent=t,n};return{appendCategoryDiv:()=>{const t=document.querySelector(".expanded-sidebar"),a=(t=>{const n=document.createElement("div"),a=e(t);return n.classList.add(a),n.textContent=t,n})(n.allCategories[n.allCategories.length-1]);t.insertBefore(a,t.lastElementChild)},appendTaskDiv:()=>{const e=document.querySelector("#project-name"),t=(e=>{const t=a("task-container"),n=(e=>{const t=a("task-overview"),n=a("priority-indicator",e.taskPriority),s=a("checkbox"),o=r("title",e.taskTitle),d=r("description",e.taskDescription);return t.appendChild(n),t.appendChild(s),t.appendChild(o),t.appendChild(d),t})(e),s=r("task-date",e.taskDueDate);return t.appendChild(n),t.appendChild(s),t})(n.allTasks[n.allTasks.length-1]);e.parentNode.insertBefore(t,e.nextElementSibling)},addOptionsToSelect:()=>{const e=document.getElementById("task-category").options,a=n.allCategories;e.length=0;for(const n in a)e[e.length]=new Option(t(a[n]),n)}}})(),s=()=>{document.querySelector("#projects-form").addEventListener("submit",(function(e){e.preventDefault(),n.checkNewCategoryAdded(a.getCategoryName())&&(a.newCategoryHandler(),r.appendCategoryDiv(),r.addOptionsToSelect(),n.resetCategoryAdded())}))},o=()=>{document.querySelector("#task-form").addEventListener("submit",(function(e){e.preventDefault(),a.newTaskHandler(e),r.appendTaskDiv()}))};document.querySelector("#task-due-date").min=(new Date).toISOString().split("T")[0],s(),o()})();