(()=>{"use strict";const e=e=>(e=>/\s/g.test(e))(e)?e.replace(/\s+/g,""):e,t=e=>e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" "),a=(()=>{let e=["default"],t=[],a=!1;return{pushNewCategory:t=>{e.push(t.toLowerCase())},pushNewTask:e=>{t.push(e)},checkNewCategoryAdded:t=>{const n=t.toLowerCase();return e.includes(n)||(a=!0),a},resetCategoryAdded:()=>{a=!1},allCategories:e,allTasks:t,categoryAdded:a}})(),n=(()=>{const e=()=>document.querySelector("input[name='categoryName']").value;return{getCategoryName:e,newCategoryHandler:()=>{a.pushNewCategory(e())},newTaskHandler:e=>{a.pushNewTask((e=>{const t=new FormData(e.target);return Object.fromEntries(t)})(e))}}})(),r=(()=>{const n=()=>a.allCategories[a.allCategories.length-1],r=(e,t)=>{const a=document.createElement("div");return a.classList.add(e),t&&a.classList.add(t),a},s=(e,t)=>{const a=document.createElement("p");return a.classList.add(e),a.textContent=t,a};return{appendCategoryDiv:()=>{const a=document.querySelector(".expanded-sidebar"),r=(a=>{const n=document.createElement("div"),r=e(a);return n.setAttribute("id",r),n.classList.add("category"),n.textContent=t(a),n})(n());a.insertBefore(r,a.lastElementChild)},appendTaskDiv:()=>{const e=document.querySelector("#project-name"),t=(e=>{const t=r("task-container"),a=(e=>{const t=r("task-overview"),a=r("priority-indicator",e.taskPriority),n=r("checkbox"),o=s("title",e.taskTitle),d=s("description",e.taskDescription);return t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(d),t})(e),n=s("task-date",e.taskDueDate);return t.appendChild(a),t.appendChild(n),t})(a.allTasks[a.allTasks.length-1]);e.parentNode.insertBefore(t,e.nextElementSibling)},addOptionsToSelect:()=>{const e=document.getElementById("task-category"),a=n();e.add(new Option(t(a),a))},expandCollapseTabs:(e,t)=>{const a=document.querySelector(e),n=document.querySelector(t);a.addEventListener("click",(function(e){n.classList.toggle("hidden")}))}}})(),s=()=>{document.querySelector("#projects-form").addEventListener("submit",(function(e){e.preventDefault(),a.checkNewCategoryAdded(n.getCategoryName())&&(n.newCategoryHandler(),r.appendCategoryDiv(),r.addOptionsToSelect(),a.resetCategoryAdded())}))},o=()=>{document.querySelector("#task-form").addEventListener("submit",(function(e){e.preventDefault(),n.newTaskHandler(e),r.appendTaskDiv()}))};document.querySelector("#task-due-date").min=(new Date).toISOString().split("T")[0],r.expandCollapseTabs(".sidebar",".expanded-sidebar"),r.expandCollapseTabs("#add-new-task",".task-form-container"),s(),o()})();