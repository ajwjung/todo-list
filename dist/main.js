(()=>{"use strict";const e=e=>(e=>/\s/g.test(e))(e)?e.replace(/\s+/g,""):e,t=(()=>{let e=["default"],t=[],r=!1;return{pushNewCategory:t=>{e.push(t.toLowerCase()),console.log(e)},pushNewTask:e=>{t.push(e)},checkNewCategoryAdded:t=>{const a=t.toLowerCase();return e.includes(a)||(r=!0),r},resetCategoryAdded:()=>{r=!1},allCategories:e,allTasks:t,categoryAdded:r}})(),r=(()=>{const e=()=>document.querySelector("input[name='categoryName']").value;return{getCategoryName:e,newCategoryHandler:()=>{t.pushNewCategory(e())},newTaskHandler:e=>{t.pushNewTask((e=>{const t=new FormData(e.target);return Object.fromEntries(t)})(e))}}})(),a=()=>{const r=document.querySelector(".expanded-sidebar"),a=(t=>{const r=document.createElement("div"),a=e(t);return r.classList.add(a),r.textContent=t,r})(t.allCategories[t.allCategories.length-1]);r.insertBefore(a,r.lastElementChild)},n=()=>{document.querySelector("#projects-form").addEventListener("submit",(function(e){e.preventDefault(),t.checkNewCategoryAdded(r.getCategoryName())&&(r.newCategoryHandler(),a(),t.resetCategoryAdded())}))},o=()=>{document.querySelector("#task-form").addEventListener("submit",(function(e){e.preventDefault(),r.newTaskHandler(e)}))};document.querySelector("#task-due-date").min=(new Date).toISOString().split("T")[0],n(),o()})();