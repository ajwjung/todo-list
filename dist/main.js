(()=>{"use strict";const e=(()=>{let e=["default"],t=[],a=!1;return{pushNewCategory:t=>{e.push(t.toLowerCase())},pushNewTask:e=>{t.push(e)},checkNewCategoryAdded:t=>{const n=t.toLowerCase();return e.includes(n)||(a=!0),a},resetCategoryAdded:()=>{a=!1},allCategories:e,allTasks:t}})(),t=(()=>{const t=()=>document.querySelector("input[name='categoryName']").value;return{getCategoryName:t,newCategoryHandler:()=>{e.pushNewCategory(t())},newTaskHandler:t=>{e.pushNewTask((e=>{const t=new FormData(e.target);return Object.fromEntries(t)})(t))}}})(),a=e=>(e=>/\s/g.test(e))(e)?e.replace(/\s+/g,""):e,n=e=>e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" "),r=(()=>{const t=()=>e.allCategories[e.allCategories.length-1],r=(e,t)=>{const a=document.createElement("div");return a.classList.add(e),t&&a.classList.add(t),a},s=(e,t)=>{const a=document.createElement("p");return a.classList.add(e),a.textContent=t,a};return{appendCategoryDiv:()=>{const e=document.querySelector(".expanded-sidebar"),r=(e=>{const t=document.createElement("div"),r=a(e);return t.setAttribute("id",r),t.classList.add("category"),t.textContent=n(e),t})(t());e.insertBefore(r,e.lastElementChild)},appendTaskDiv:()=>{const t=document.querySelector("#project-name"),a=(e=>{const t=r("task-container"),a=(e=>{const t=r("task-overview"),a=r("priority-indicator",e.taskPriority),n=r("checkbox"),o=s("title",e.taskTitle),d=s("description",e.taskDescription);return t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(d),t})(e),n=s("task-date",e.taskDueDate);return t.appendChild(a),t.appendChild(n),t})(e.allTasks[e.allTasks.length-1]);t.parentNode.insertBefore(a,t.nextElementSibling)},addOptionsToSelect:()=>{const e=document.getElementById("task-category"),a=t();e.add(new Option(n(a),a))},expandCollapseTabs:(e,t)=>{const a=document.querySelector(e),n=document.querySelector(t);a.addEventListener("click",(function(e){n.classList.toggle("hidden")}))}}})(),s=()=>{document.querySelector("#projects-form").addEventListener("submit",(function(a){a.preventDefault(),e.checkNewCategoryAdded(t.getCategoryName())&&(t.newCategoryHandler(),r.appendCategoryDiv(),r.addOptionsToSelect(),e.resetCategoryAdded())}))},o=()=>{document.querySelector("#task-form").addEventListener("submit",(function(e){e.preventDefault(),t.newTaskHandler(e),r.appendTaskDiv()}))};document.querySelector("#task-due-date").min=(new Date).toISOString().split("T")[0],r.expandCollapseTabs(".sidebar",".expanded-sidebar"),r.expandCollapseTabs("#add-new-task",".task-form-container"),s(),o()})();