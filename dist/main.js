(()=>{"use strict";const e=(()=>{const e=e=>(e=>/\-/g.test(e))(e)?e.replace("-"," "):e,t=e=>e.toLowerCase().split(" ").map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" ");return{replaceHyphensWithSpaces:e,getHyphenatedName:e=>(e=>/\s/g.test(e))(e)?e.replace(/\s+/g,"-"):e,capitalizeFirstLetters:t,makeNamePresentable:a=>{const n=e(a);return t(n)}}})(),t=(()=>{let t=["default"],n={default:[]},o=!1;return{checkNewCategoryAdded:e=>{const a=e.toLowerCase();return t.includes(a)||(o=!0),o},resetCategoryAdded:()=>{o=!1},pushNewCategory:a=>{t.push(e.getHyphenatedName(a)),console.log(t)},checkTaskHasCategory:e=>n.hasOwnProperty(e),addCategoryToObject:t=>{n[e.getHyphenatedName(t)]=[]},pushNewTask:()=>{const e=a.TodoTask();console.log(n[e.category]),n[e.category].push(e),console.log(n)},allCategories:t}})(),a=(()=>{const e=()=>document.querySelector("input[name='categoryName']").value,a=()=>({title:document.getElementById("task-title").value,description:document.getElementById("task-description").value,notes:document.getElementById("task-description").value,dueDate:document.getElementById("task-due-date").value,priority:document.getElementById("priority-level").value,category:document.getElementById("task-category").value});return{getCategoryName:e,newCategoryHandler:()=>{const a=e();t.checkTaskHasCategory(a)||t.addCategoryToObject(a),t.pushNewCategory(a)},TodoTask:a,getTaskObject:()=>a(),newTaskHandler:e=>{t.pushNewTask(a())}}})(),n=(()=>{const a=()=>t.allCategories[t.allCategories.length-1];return{getNewCategory:a,appendCategoryDiv:()=>{const t=document.querySelector(".expanded-sidebar"),n=(t=>{const a=document.createElement("div");return a.setAttribute("id",t),a.classList.add("category"),a.textContent=e.makeNamePresentable(t),a})(a());t.insertBefore(n,t.lastElementChild)}}})(),o=()=>{const t=document.getElementById("task-category"),a=n.getNewCategory();t.add(new Option(e.makeNamePresentable(a),a))},r=(e,t)=>{const a=document.createElement("div");return a.classList.add(e),t&&a.classList.add(t),a},d=(e,t)=>{const a=document.createElement("p");return a.classList.add(e),a.textContent=t,a},s=e=>{const t=document.createElement("h1");return t.setAttribute("id","category-name"),t.textContent=e,t},c=e=>{document.querySelector(".display-container").appendChild(e)},l={appendTaskDiv:()=>{const e=document.querySelector(".display-container"),t=(e=>{const t=r("task-container"),a=(e=>{const t=r("task-overview"),a=r("priority-indicator",e.priority),n=r("checkbox"),o=d("title",e.title),s=d("description",e.description);return t.appendChild(a),t.appendChild(n),t.appendChild(o),t.appendChild(s),t})(e),n=d("task-date",e.dueDate);return t.appendChild(a),t.appendChild(n),t})(a.getTaskObject());e.appendChild(t)},expandCollapseTabs:(e,t)=>{const a=document.querySelector(e),n=document.querySelector(t);a.addEventListener("click",(function(e){n.classList.toggle("hidden")}))}},i=()=>{document.querySelector("#projects-form").addEventListener("submit",(function(e){e.preventDefault(),t.checkNewCategoryAdded(a.getCategoryName())&&(a.newCategoryHandler(),n.appendCategoryDiv(),o(),t.resetCategoryAdded())}))},u=()=>{document.querySelector("#task-form").addEventListener("submit",(function(e){e.preventDefault(),a.newTaskHandler(e),l.appendTaskDiv()}))},p="default";(()=>{document.querySelector("#task-due-date").min=(new Date).toISOString().split("T")[0];const e=s(p);c(e),l.expandCollapseTabs(".sidebar",".expanded-sidebar"),l.expandCollapseTabs("#add-new-task",".task-form-container"),i(),u()})()})();