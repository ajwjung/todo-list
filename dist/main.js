(()=>{"use strict";const e=e=>(e=>/\s/g.test(e))(e)?e.replace(/\s+/g,""):e,t=(()=>{let e=["default"],t=[],a=!1;return{pushNewCategory:t=>{e.push(t.toLowerCase())},pushNewTask:e=>{t.push(e)},checkNewCategoryAdded:t=>{const n=t.toLowerCase();return e.includes(n)||(a=!0),a},resetCategoryAdded:()=>{a=!1},allCategories:e,allTasks:t,categoryAdded:a}})(),a=(()=>{const e=()=>document.querySelector("input[name='categoryName']").value;return{getCategoryName:e,newCategoryHandler:()=>{t.pushNewCategory(e())},newTaskHandler:e=>{t.pushNewTask((e=>{const t=new FormData(e.target);return Object.fromEntries(t)})(e))}}})(),n=(()=>{const a=e=>{const t=document.createElement("div");return t.classList.add(e),t},n=(e,t)=>{const a=document.createElement("p");return a.classList.add(e),a.textContent=t,a};return{appendCategoryDiv:()=>{const a=document.querySelector(".expanded-sidebar"),n=(t=>{const a=document.createElement("div"),n=e(t);return a.classList.add(n),a.textContent=t,a})(t.allCategories[t.allCategories.length-1]);a.insertBefore(n,a.lastElementChild)},appendTaskDiv:()=>{const e=document.querySelector("#project-name"),r=(e=>{const t=a("example-task"),r=(e=>{const t=a("task-overview"),r=a("priority-indicator"),s=a("checkbox"),d=n("title",e.taskTitle),o=n("description",e.taskDescription);return t.appendChild(r),t.appendChild(s),t.appendChild(d),t.appendChild(o),t})(e),s=n("task-date",e.taskDueDate);return t.appendChild(r),t.appendChild(s),t})(t.allTasks[t.allTasks.length-1]);e.parentNode.insertBefore(r,e.nextElementSibling)}}})(),r=()=>{document.querySelector("#projects-form").addEventListener("submit",(function(e){e.preventDefault(),t.checkNewCategoryAdded(a.getCategoryName())&&(a.newCategoryHandler(),n.appendCategoryDiv(),t.resetCategoryAdded())}))},s=()=>{document.querySelector("#task-form").addEventListener("submit",(function(e){e.preventDefault(),a.newTaskHandler(e),n.appendTaskDiv()}))};document.querySelector("#task-due-date").min=(new Date).toISOString().split("T")[0],r(),s()})();